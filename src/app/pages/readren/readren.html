<ion-header translucent="true">
  <ion-toolbar>
    <ion-buttons *ngIf="!showSearchbar" slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-searchbar
      placeholder="Buscar"
      (ionInput)="onSearch($event.target.value)">
    </ion-searchbar>
    <ion-buttons slot="end">
      <ion-button *ngIf="!showSearchbar" (click)="presentFilter()">
        <span *ngIf="ios">Filter</span>
        <span *ngIf="!ios">
          <ion-icon slot="icon-only" name="options"></ion-icon>
        </span>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>





<ion-content>
  <ion-list>
    <ng-container *ngFor="let p of productList">
      <ion-item button (click)="addToOrder(p)" lines="none" style="padding-top: 6px; padding-bottom: 6px;">
        <table style="width: 100%; border-collapse: collapse;">
          <!-- Primera fila: Categoría, Nombre, Cantidad + UM, Botón -->
          <tr>
            <!-- Categoría -->
            <td style="font-size: small; width: 10%;">
              {{ getCategoryNameById(p?.datos?.categ?.[0]) | capitalize }}
            </td>

            <!-- Nombre del producto (letra más pequeña) -->
            <td style="font-size: 13px; width: 60%;">
              <h3 style="margin: 0; font-size: inherit;">{{ p?.datos?.name | uppercase }}</h3>
            </td>

            <!-- Cantidad + UM (compacta, número arriba, unidad abajo) -->
            <td style="width: 15%; text-align: right; vertical-align: top;">
              <div style="display: flex; flex-direction: column; align-items: flex-end;">
                <strong>{{ p?.datos?.qty }}</strong>
                <span style="font-size: xx-small;">{{ getUmNameById(p?.datos?.um?.[0]) }}</span>
              </div>
            </td>

            <!-- Botón -->
            <td style="width: 15%; text-align: center;">
              <ion-button color="secondary" (click)="printSelectedBarcodes(p); $event.stopPropagation()" style="height: 28px; min-width: 28px;">
                <ion-icon name="trash-outline"></ion-icon>
              </ion-button>
            </td>
          </tr>



          <tr>
            <td colspan="4" style="font-size: x-small; color: gray; padding-top: 2px;">
              {{ formatFechaLatam(p.creado_en) }}
            </td>
          </tr>

          <!-- Segunda fila: Fecha creado -->
<!--          <tr>-->
            <!--<td colspan="4" style="font-size: x-small; color: gray; padding-top: 2px;">-->
              <!--{{ p.creado_en }}-->
            <!--</td>-->
          <!--</tr>-->
        </table>
      </ion-item>
    </ng-container>
  </ion-list>
</ion-content>




<!--<ion-content>-->
  <!--<ion-list>-->
    <!--<ion-item *ngFor="let p of productList" button (click)="addToOrder(p)" style="display:flex; align-items:center;">-->

      <!--[> Categoría <]-->
      <!--<ion-label style="font-size: small; flex: 1;">-->
      <!--[>  <span>{{ getCategoryNameById(p?.datos?.categ?.[0])?.toUpperCase() }}&nbsp;</span><]-->
        <!--<span>{{ getCategoryNameById(p?.datos?.categ?.[0]) | capitalize }}&nbsp;</span>-->
      <!--</ion-label>-->

      <!--[> Nombre del producto (más espacio) <]-->
      <!--<ion-label style="font-size: small; flex: 3;">-->
        <!--<h3>{{ p?.datos?.name | uppercase }}</h3>-->
      <!--</ion-label>-->

      <!--[> Cantidad + UM (menos espacio) <]-->
      <!--<ion-label style="font-size: small; flex: 0.5; text-align:right;">-->
        <!--<strong>{{ p?.datos?.qty }}</strong>-->
        <!--<span style="font-size: xx-small;"> {{ getUmNameById(p?.datos?.um?.[0]) }}</span>-->
      <!--</ion-label>-->

      <!--[> Botón <]-->
      <!--<ion-button color="primary" slot="end" (click)="printSelectedBarcodes(p); $event.stopPropagation()">-->
        <!--<ion-icon name="barcode-outline"></ion-icon>-->
      <!--</ion-button>-->

    <!--</ion-item>-->
    <!--<ion-item>-->
      <!--<p>{{p.creado_en}} </p>-->
    <!--</ion-item>-->
  <!--</ion-list>-->
<!--</ion-content>-->











